<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CtrlTab</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Orbitron:wght@600;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script>
        // Apply theme before render to prevent flash
        (function() {
            var t = localStorage.getItem('ctrltab-theme');
            if (t && t !== 'light') document.documentElement.dataset.theme = t;
        })();
    </script>
</head>
<body>
    <!-- Cyberpunk grid background -->
    <div class="grid-background"></div>

    <!-- Scan lines overlay -->
    <div class="scan-lines"></div>

    <!-- Main container -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1 class="logo">
                    <span class="logo-text">Ctrl</span><span class="logo-accent">Tab</span>
                </h1>
                <div class="subtitle">Link Manager</div>
            </div>

            <div class="collections-container">
                <div class="collections-header">
                    <span class="label">Collections</span>
                    <button class="btn-icon" id="addCollectionBtn" title="Add collection">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
                <ul class="collections-list" id="collectionsList">
                    <!-- Collections will be loaded here -->
                </ul>
            </div>

            <div class="sidebar-footer">
                <div class="settings-wrapper">
                    <div class="settings-dropdown" id="settingsDropdown">
                        <div class="settings-dropdown-label">Theme</div>
                        <button class="theme-option active" data-theme-value="light" onclick="setTheme('light')">Light</button>
                        <button class="theme-option" data-theme-value="cyberpunk" onclick="setTheme('cyberpunk')">Cyberpunk</button>
                    </div>
                    <button class="settings-btn" id="settingsBtn" title="Settings">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" stroke="currentColor" stroke-width="1.5"/>
                            <path d="M13.05 10.13a1.14 1.14 0 0 0 .23 1.26l.04.04a1.38 1.38 0 1 1-1.96 1.96l-.04-.04a1.14 1.14 0 0 0-1.26-.23 1.14 1.14 0 0 0-.69 1.05v.11a1.38 1.38 0 1 1-2.76 0v-.06a1.14 1.14 0 0 0-.75-1.05 1.14 1.14 0 0 0-1.26.23l-.04.04a1.38 1.38 0 1 1-1.96-1.96l.04-.04a1.14 1.14 0 0 0 .23-1.26 1.14 1.14 0 0 0-1.05-.69h-.11a1.38 1.38 0 1 1 0-2.76h.06a1.14 1.14 0 0 0 1.05-.75 1.14 1.14 0 0 0-.23-1.26l-.04-.04a1.38 1.38 0 1 1 1.96-1.96l.04.04a1.14 1.14 0 0 0 1.26.23h.06a1.14 1.14 0 0 0 .69-1.05v-.11a1.38 1.38 0 1 1 2.76 0v.06a1.14 1.14 0 0 0 .69 1.05 1.14 1.14 0 0 0 1.26-.23l.04-.04a1.38 1.38 0 1 1 1.96 1.96l-.04.04a1.14 1.14 0 0 0-.23 1.26v.06a1.14 1.14 0 0 0 1.05.69h.11a1.38 1.38 0 1 1 0 2.76h-.06a1.14 1.14 0 0 0-1.05.69Z" stroke="currentColor" stroke-width="1.5"/>
                        </svg>
                        Settings
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main content -->
        <main class="main-content">
            <div class="content-header">
                <div class="collection-title-container">
                    <h2 class="collection-title" id="collectionTitle">Select a collection</h2>
                    <div class="collection-actions">
                        <button class="btn-icon" id="editCollectionBtn" title="Edit collection" style="display: none;">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M11.333 2A1.886 1.886 0 0 1 14 4.667l-9 9-3.667 1 1-3.667 9-9Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <button class="btn-primary" id="addSectionBtn" style="display: none;">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Add Section
                </button>
            </div>

            <div class="sections-container" id="sectionsContainer">
                <div class="empty-state">
                    <div class="empty-icon">âŒ˜</div>
                    <p>Select a collection to view your links</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-backdrop" id="modalBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Modal Title</h3>
                <button class="btn-icon" id="modalClose">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M12 4L4 12M4 4l8 8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
